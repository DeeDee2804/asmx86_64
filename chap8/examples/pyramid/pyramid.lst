     1                                 %line 1+1 pyramid.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 
     8                                 
     9                                 
    10                                 
    11                                 
    12                                 
    13                                 
    14                                 
    15                                 
    16                                 
    17                                 
    18                                 
    19                                 
    20                                 
    21                                 [section .data]
    22                                 
    23                                 
    24                                 EXIT_SUCCESS equ 0
    25                                 SYS_exit equ 60
    26                                 
    27                                 
    28                                 
    29 00000000 0A0E0D2536             aSides db 10, 14, 13, 37, 54
    30 00000005 1F0D143D24              db 31, 13, 20, 61, 36
    31 0000000A 0E352C132A              db 14, 53, 44, 19, 42
    32 0000000F 1B29353E0A              db 27, 41, 53, 62, 10
    33 00000014 13120E0A0F              db 19, 18, 14, 10, 15
    34 00000019 0F0B162146              db 15, 11, 22, 33, 70
    35 0000001E 0F170F3F1A              db 15, 23, 15, 63, 26
    36 00000023 18210A3D0F              db 24, 33, 10, 61, 15
    37 00000028 0E220D4751              db 14, 34, 13, 71, 81
    38 0000002D 260D1D115D              db 38, 13, 29, 17, 93
    39                                 
    40 00000032 D1045A04ED066B048B-    sSides dw 1233, 1114, 1773, 1131, 1675
    41 00000032 06                 
    42 0000003C 8C04B507B607630484-     dw 1164, 1973, 1974, 1123, 1156
    43 0000003C 04                 
    44 00000046 4005D806B5077604B0-     dw 1344, 1752, 1973, 1142, 1456
    45 00000046 05                 
    46 00000050 8D04DA06F90497040A-     dw 1165, 1754, 1273, 1175, 1546
    47 00000050 06                 
    48 0000005A 81048906AD051F06FF-     dw 1153, 1673, 1453, 1567, 1535
    49 0000005A 05                 
    50 00000064 78042B06E4061F0636-     dw 1144, 1579, 1764, 1567, 1334
    51 00000064 05                 
    52 0000006E B0051B061C06D9068D-     dw 1456, 1563, 1564, 1753, 1165
    53 0000006E 04                 
    54 00000078 6E064607B1058F04FE-     dw 1646, 1862, 1457, 1167, 1534
    55 00000078 05                 
    56 00000082 4B074807DD06DB06AD-     dw 1867, 1864, 1757, 1755, 1453
    57 00000082 05                 
    58 0000008C 47078906FB04DC0649-     dw 1863, 1673, 1275, 1756, 1353
    59 0000008C 05                 
    60                                 
    61 00000096 413700007E2B000013-    heights dd 14145, 11134, 15123, 15123, 14123
    62 00000096 3B0000133B00002B37-
    63 00000096 0000               
    64 000000AA 164800005E3C00007C-     dd 18454, 15454, 12156, 12164, 12542
    65 000000AA 2F0000842F0000FE30-
    66 000000AA 0000               
    67 000000BE 1548000015480000B0-     dd 18453, 18453, 11184, 15142, 12354
    68 000000BE 2B0000263B00004230-
    69 000000BE 0000               
    70 000000D2 E4380000363700007C-     dd 14564, 14134, 12156, 12344, 13142
    71 000000D2 2F0000383000005633-
    72 000000D2 0000               
    73 000000E6 912B00006F48000004-     dd 11153, 18543, 17156, 12352, 15434
    74 000000E6 430000403000004A3C-
    75 000000E6 0000               
    76 000000FA 17480000363700005B-     dd 18455, 14134, 12123, 15324, 13453
    77 000000FA 2F0000DC3B00008D34-
    78 000000FA 0000               
    79 0000010E 7E2B00003637000034-     dd 11134, 14134, 15156, 15234, 17142
    80 0000010E 3B0000823B0000F642-
    81 0000010E 0000               
    82 00000122 6F4C00003637000066-     dd 19567, 14134, 12134, 17546, 16123
    83 00000122 2F00008A440000FB3E-
    84 00000122 0000               
    85 00000136 7E2B000036370000F0-     dd 11134, 14134, 14576, 15457, 17142
    86 00000136 380000613C0000F642-
    87 00000136 0000               
    88 0000014A 61330000912B000098-     dd 13153, 11153, 12184, 14142, 17134
    89 0000014A 2F00003E370000EE42-
    90 0000014A 0000               
    91                                 
    92 0000015E 32000000               length dd 50
    93 00000162 00000000               taMin dd 0
    94 00000166 00000000               taMax dd 0
    95 0000016A 00000000               taSum dd 0
    96 0000016E 00000000               taAve dd 0
    97                                 
    98 00000172 00000000               volMin dd 0
    99 00000176 00000000               volMax dd 0
   100 0000017A 00000000               volSum dd 0
   101 0000017E 00000000               volAve dd 0
   102                                 
   103                                 
   104 00000182 02000000               ddTwo dd 2
   105 00000186 03000000               ddThree dd 3
   106                                 
   107                                 
   108                                 
   109                                 [section .bss]
   110                                 
   111 00000000 <gap>                  totalAreas resd 50
   112 000000C8 <gap>                  volumes resd 50
   113                                 
   114                                 
   115                                 
   116                                 [section .text]
   117                                 [global _start]
   118                                 _start:
   119                                 
   120                                 
   121                                 
   122 00000000 8B0C25[00000000]       mov ecx, dword [length]
   123 00000007 48C7C600000000         mov rsi, 0
   124                                 
   125                                 calculationLoop:
   126                                 
   127 0000000E 440FB686[00000000]      movzx r8d, byte [aSides+rsi]
   128 00000016 440FB78C36[00000000]      movzx r9d, word [sSides+rsi*2]
   129 0000001F 4489C0                  mov eax, r8d
   130 00000022 F72425[00000000]        mul dword [ddTwo]
   131 00000029 41F7E1                  mul r9d
   132 0000002C 41F7E0                  mul r8d
   133 0000002F 8904B5[00000000]        mov dword [totalAreas+rsi*4], eax
   134                                 
   135 00000036 0FB686[00000000]        movzx eax, byte [aSides+rsi]
   136 0000003D F7E0                    mul eax
   137 0000003F F724B5[00000000]        mul dword [heights+rsi*4]
   138 00000046 F73425[00000000]        div dword [ddThree]
   139 0000004D 8904B5[00000000]        mov dword [volumes+rsi*4], eax
   140                                 
   141 00000054 48FFC6                  inc rsi
   142 00000057 E2B3                    loop calculationLoop
   143                                 
   144                                 
   145                                 
   146                                 
   147 00000059 8B0425[00000000]       mov eax, dword [totalAreas]
   148 00000060 890425[00000000]       mov dword [taMin], eax
   149 00000067 890425[00000000]       mov dword [taMax], eax
   150                                 
   151 0000006E 8B0425[00000000]       mov eax, dword [volumes]
   152 00000075 890425[00000000]       mov dword [volMin], eax
   153 0000007C 890425[00000000]       mov dword [volMax], eax
   154                                 
   155 00000083 8B0C25[00000000]       mov ecx, dword [length]
   156 0000008A 48C7C600000000         mov rsi, 0
   157                                 
   158                                 statsLoop:
   159 00000091 8B04B5[00000000]        mov eax, dword [totalAreas+rsi*4]
   160 00000098 010425[00000000]        add dword [taSum], eax
   161 0000009F 390425[00000000]        cmp dword [taMin], eax
   162 000000A6 7605                    jbe NotNewTaMin
   163 000000A8 890425[00000000]        mov dword [taMin], eax
   164                                 
   165                                 NotNewTaMin:
   166 000000AF 390425[00000000]        cmp dword [taMax], eax
   167 000000B6 7305                    jae NotNewTaMax
   168 000000B8 890425[00000000]        mov dword [taMax], eax
   169                                 
   170                                 NotNewTaMax:
   171 000000BF 8B04B5[00000000]        mov eax, dword [volumes+rsi*4]
   172 000000C6 010425[00000000]        add dword [volSum], eax
   173 000000CD 390425[00000000]        cmp dword [volMin], eax
   174 000000D4 7605                    jbe NotNewVolMin
   175 000000D6 890425[00000000]        mov dword [volMin], eax
   176                                 
   177                                 NotNewVolMin:
   178 000000DD 390425[00000000]        cmp dword [volMax], eax
   179 000000E4 7305                    jae NotNewVolMax
   180 000000E6 890425[00000000]        mov dword [volMax], eax
   181                                 
   182                                 NotNewVolMax:
   183 000000ED 48FFC6                  inc rsi
   184 000000F0 E29D                    loop statsLoop
   185                                 
   186                                 
   187 000000F2 8B0425[00000000]       mov eax, dword [taSum]
   188 000000F9 BA00000000             mov edx, 0
   189 000000FE F73425[00000000]       div dword [length]
   190 00000105 890425[00000000]       mov dword [taAve], eax
   191                                 
   192 0000010C 8B0425[00000000]       mov eax, dword [volSum]
   193 00000113 BA00000000             mov edx, 0
   194 00000118 F73425[00000000]       div dword [length]
   195 0000011F 890425[00000000]       mov dword [volAve], eax
   196                                 
   197                                 
   198                                 
   199                                 
   200                                 last:
   201 00000126 48C7C03C000000          mov rax, SYS_exit
   202 0000012D 48C7C300000000          mov rbx, EXIT_SUCCESS
   203 00000134 0F05                    syscall
   204                                 
